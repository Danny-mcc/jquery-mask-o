(function(e){e.fn.masko=function(t){t=e.extend({},e.fn.masko.settings,t||{});return this.each(function(){var n=e(this);var r=e(document.createElement("div")).addClass("mask-o");if(t.customClass.length){r.addClass(t.customClass)}else{r.css("background",t.color+" url("+t.image+") no-repeat center center").css("opacity",t.opacity)}r.css("position","absolute").css("top",n.offset().top).css("left",n.offset().left).css("height",n.height()).css("width",n.width());e("body").append(r);n.one("unmasko",function(){r.remove()});e(window).resize(function(){r.css("top",n.offset().top).css("left",n.offset().left).css("height",n.height()).css("width",n.width())})})};e.fn.unmasko=function(){return this.each(function(){e(this).triggerHandler("unmasko")})};e.fn.masko.settings={image:"loader.gif",opacity:.5,color:"#FFF",zIndex:50,customClass:false}})(jQuery)
